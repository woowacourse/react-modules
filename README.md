# 1️⃣ 모달 컴포넌트

> 페이먼츠 모듈 2단계

[🎨 모달 스토리북 배포 주소](https://6813031d6576e04c1cfcc2c7-wbpmbxnplv.chromatic.com/?path=/story/components-modal--center)

## 🎯 기능 요구 사항

## [Step2] 🛠️ Refactoring

### 1. 다양한 모달 종류 구현

- [x] 확인(Alert) 모달: 사용자에게 메시지를 전달하고 확인 버튼만 제공하기
- [x] 확인/취소(Confirm) 모달: 사용자에게 선택지를 제공하고 확인 및 취소 버튼 제공하기
- [x] 입력(Prompt) 모달: 사용자로부터 입력값을 받을 수 있는 입력 필드와 확인/취소 버튼 제공하기

### 2. 모달 크기 옵션 추가

- [x] small, medium, large 등의 크기 옵션을 prop으로 전달받아 모달 크기 조절

### 3. 모달 컴포넌트 웹 접근성(A11y) 개선

- [x] 키보드 사용자를 고려하여 모달 내부 포커스 제어 구현하기
  - [x] 모달이 열릴 때 모달 내부의 첫 번째 포커스 가능한 요소로 자동 포커스를 이동시키기
  - [x] TAB 키로 모달 내부의 포커스 가능한 요소를 순서대로 탐색할 수 있도록 구현하기
  - [x] Shift+TAB 키로 역순 탐색이 가능해야 하며, 마지막 요소에서 첫 번째 요소로 순환 가능하도록 구현하기

## [Step1] ⚙️ Module

### 1. 모달 UI 구현

- [x] 레이아웃 구현하기
- [x] Title 구현하기
- [x] close 버튼 UI 구현하기
- [x] 모달 스타일 적용하기
    - 모달 위치: 중앙, 하단 등
    - 모달 내용: 제목, 버튼 등

### 2. 이벤트 핸들러 등록

- [x] 모달 위치 및 내용 구성 옵션을 prop으로 전달받아 유연하게 모달을 구성하기
- [x] 사용자 정의 이벤트 핸들러를 연결하기
    - 모달 열기, 닫기, 확인 등의 동작에 대한 이벤트 핸들러

### 3. npm 배포

- [x] 모달 컴포넌트를 npm으로 배포하기

<br>

## [Step2] ✅ 프로그래밍 요구사항

- Storybook
  - [x] 모달 컴포넌트의 PC 대응 스토리 작성

## [Step1] ✅ 프로그래밍 요구사항

- Storybook
    - [x] 모달의 위치, 내용, 이벤트 핸들러 등 다양한 prop에 대한 Storybook 테스트 시나리오를 작성한다.

<br/>
<br/>

# 2️⃣ 페이먼츠 커스텀 훅

## 🎯 기능 요구 사항

## [Step2] 🛠️ Refactoring

### 1. 다양한 카드 브랜드 지원 확장

- [x] Visa, Mastercard 외에 AMEX, Diners, UnionPay 등의 주요 카드사 식별 및 유효성 검사 로직 추가

### 2. 카드 번호 포맷팅 기능 추가

- [x] 사용자 입력 시 자동으로 카드사별 규칙에 맞게 카드 번호를 구분하여 표시 
- [x] 카드사별 포맷팅 규칙 적용

### 3. [선택] 모듈 통합 및 연동 (심화 요구사항)

- [ ] 구현한 모달과 커스텀 훅 모듈을 이전 프로젝트와 연동하여 직접 사용해보기
  - 적용 대상 프로젝트는 본인의 react-payments 프로젝트 
  - 적용 방식이나 범위는 자유

## [Step1] ⚙️ Module

### 1. 커스텀 훅 분리

- [x] 페이먼츠 카드의 다양한 정보에 대한 유효성 검사 로직을 여러 개의 작은 커스텀 훅으로 분리하기
    - 페이먼츠 앱에서 다루었던 카드 정보를 필수적으로 커스텀 훅으로 만들기

### 2. 유효성 검사하기

- [x] 카드 정보의 유효성 검사 결과와 에러 정보를 사용자인 개발자에게 제공하기
- [x] 유효성 검사에 실패한 경우, 에러 정보를 문자열 형태로 반환하기

### 3. npm 배포

- [x] 페이먼츠 커스텀 훅 모듈을 npm으로 배포하기

<br>

## [Step2] ✅ 프로그래밍 요구사항

- RTL
  - [x] 카드사 식별 (AMEX, Diners, UnionPay 포함) 및 유효성 검사 로직 테스트
  - [x] 카드 번호 포맷팅 기능 테스트

- 카드사 식별 번호 구분 규칙  
  - [x] 카드사별 번호의 규칙은 아래로 통일해서 진행한다.

> **💡 카드 브랜드 구분 로직 (Diners / AMEX / UnionPay)**
> - Diners: 36으로 시작하는 14자리 숫자
>   - 예시: 3612 345678 9012
> - AMEX: 34, 37로 시작하는 15자리 숫자
>   - 예시 (34로 시작): 3412 345678 90123
>   - 예시 (37로 시작): 3712 345678 90123
> - 유니온페이: 카드의 앞 번호가 아래 3가지 조건을 만족하는 16자리 숫자
>   - 622126~622925로 시작하는 경우: 6221 2612 3456 7890
>   - 624~626로 시작하는 경우: 6240 1234 5678 9012
>   - 6282~6288로 시작하는 경우: 6282 1234 5678 9012

## [Step1] ✅ 프로그래밍 요구사항

- RTL
    - [x] 각 커스텀 훅에 대해 독립적으로 테스트를 작성한다.
    - [x] 정상 입력과 비정상 입력(성공 시나리오 / 실패 시나리오)을 모두 테스트한다.
    - [x] 다양한 잘못된 입력(경계값 초과, 빈 입력, 형식 오류 등)에 대해 폭넓게 테스트한다.

<br>

> 페이먼츠 모듈 1단계

[🎨 스토리북 배포 주소](https://6811b32435027dad59e3902b-hdzpptbvyn.chromatic.com/?path=/story/components-modal--center)  
[🗂️ 모달 배포 npm 링크](https://www.npmjs.com/package/lumes_modal)

[🗂️ 커스텀 훅 배포 npm 링크](https://www.npmjs.com/package/lume_hooks)

<br>

## 📝 커밋 메시지

- feat : 새로운 기능을 추가한 경우
- fix : 버그 수정
- docs : 문서를 수정한 경우
- style : 코드 스타일, 포멧, 주석을 변경
- design: CSS 등 사용자 UI 디자인 변경
- refactor : 코드 리팩토링
- test : 테스트 관련 코드를 수정한 경우
- chore : 코드 수정이 아닌, 단순 폴더명 파일명 등을 수정한 경우
- remove: 파일이나 로직을 삭제한 경우
