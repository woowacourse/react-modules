# 🚀 페이먼츠 모듈 2단계 - Refactoring

## 🔑 키워드

## 📍 학습 목표

✔️ 모듈화된 컴포넌트의 재사용성 및 확장성 경험
✔️ 실제 프로젝트에서의 컴포넌트 통합 및 활용
✔️ 요구사항 변경에 따른 컴포넌트 리팩터링 및 개선

## 🎯 기능 요구 사항

### **모달**

#### **모달 컴포넌트 재사용**

- [x] PC 환경에서의 사용을 고려하여 대응한다.
- [x] 새로운 타입의 모달 형태를 구현한다. (반응형 디자인 확장)
- [ ] 다양한 모달 사용
  - [x] 확인(Alert) 모달
    - [x] 메시지 제공
    - [x] 확인 버튼
  - [x] 확인/취소(Confirm) 모달
    - [x] 선택지 제공
    - [x] 확인/취소 버튼
  - [x] 입력(Propmt) 모달
    - [x] 입력 필드
    - [x] 확인/취소 버튼
- [x] 모달 크기 옵션 (props로 받아서 조절)
  - [x] small
  - [x] medium
  - [x] large

#### **모달 컴포넌트 웹 접근성(A11y) 개선**

- [ ] 키보드 사용자를 고려하여 모달 내부 포커스 제어를 구현
  - [ ] 모달이 열릴 때 모달 내부의 첫 번째 포커스 가능한 요소로 자동 포커스를 이동 시킨다.
  - [ ] TAB 키로 모달 내부의 포커스 간으한 요소를 순서대로 탐색한다.
  - [ ] Shift+TAB 키로 역순 탐색이 가능해야 하며, 마지막 요소에서 첫 번째 요소로 순환한다.

### **페이먼츠 커스텀 훅**

- [x] 다양한 카드 네트워크 지원 확장
  - [x] Visa, MasterCard, AMEX, Diners, UnionPay 카드 네트워크 식별
  - [x] 카드 네트워크별 식별 번호 번호 검사
  - [x] 카드 번호 유효성 검사
- [x] 카드 번호 포맷팅 기능 추가
  - [x] 사용자 입력 시 자동으로 카드 네트워크별 규칙에 맞게 카드 번호를 구분하여 표시
  - [x] 카드 네트워크별 포맷팅 규칙 적용

#### 💡 카드 브랜드 구분 로직 (Diners / AMEX / UnionPay)

- Diners: 36으로 시작하는 14자리 숫자
  - 예시: 3612 345678 9012
- AMEX: 34, 37로 시작하는 15자리 숫자
  - 예시 (34로 시작): 3412 345678 90123
  - 예시 (37로 시작): 3712 345678 90123
- 유니온페이: 카드의 앞 번호가 아래 3가지 조건을 만족하는 16자리 숫자
  - 622126~622925로 시작하는 경우: 6221 2612 3456 7890
  - 624~626로 시작하는 경우: 6240 1234 5678 9012
  - 6282~6288로 시작하는 경우: 6282 1234 5678 9012
- Visa: 4로 시작하는 16자리 숫자
- MasterCard: 51~55로 시작하는 16자리 숫자

## **모듈 통합 및 연동 (심화 요구사항)**

- [ ] 구현한 모달과 커스텀 훅 모듈을 이전 프로젝트와 연동하여 직접 사용한다.

## ✅ 프로그래밍 요구사항

> 이전 미션의 프로그래밍 요구사항은 기본으로 포함한다.

## **Storybook**

- [x] 모달 컴포넌트의 PC 대응 스토리 작성

## **RTL**

- [x] 카드사 식별 (AMEX, Diners, UnionPay 포함) 및 유효성 검사 로직 테스트
- [x] 카드 번호 포맷팅 기능 테스트
